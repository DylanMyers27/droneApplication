<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />
    <title>Water Quality Sampling Drone Application</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"/>
    <link href="css/main.css" rel="stylesheet"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script src="js/jquery.js"></script>
    <script async src="js/main.js"></script>

    <script>
      $("document").ready(function(){

        $("#submitNameBtn").on('click', function(){
          $("#tableData").fadeOut(50);
          $("#tableData").fadeIn(500);
        });

        $("#refreshButton").on('click', function(){
          $("#map").toggle(300);
          $("#map").toggle(300);

          initMap();
        });


      });
    </script>

  </head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-*">
    <a class="navbar-brand" href="#">Water Quality Sampling Drone</a>
        <div class="navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="#mapContainer">Map</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#chartContainer">Nitrate Levels Graph</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#tableData">Table Data</a>
            </li>
          </ul>
        </div>
  </nav>

  <div class="container" id="gettingStarted">
    <h3>Welcome to the Water Quality Sampling Drone Web Application <br> Here is a couple of tips to get you started</h3>
    <p>
      <ol id = "list">
        <li>Use the nav bar to navigate throughout the application</li>
        <li>Data will show in real-time on the table shown below</li>
        <li>Enter the drone operators name on the table below</li>
        <li>Once the drone is in the water, press the button on the receiver</li>
        <li>If you are not happy with the result of the test, just run the testing sequence again!</li>
      </ol>
    </p>
  </div>
  <!-- <div id="startBtn" class="container">
    <button type="button" class="btn btn-lg btn-primary"  id="btn" style= "display:block; margin-left: auto; margin-right: auto;">Start Testing Sequence</button>
    <div id="response" style="display:none; text-align:center;">
      <h3><b>Starting testing Sequence!</b></h3>
    </div>
    <script>

    $('button#btn').click(function(){
      $( document ).ready(function(){
         $('#response').fadeIn('slow', function(){
            $('#response').delay(3000).fadeOut();
         });
      });
    });

    $('button#btn').click(function(){
      $.ajax({
         request: 'GET',
         url: "app.py",
         success: function(response) {
           current = JSON.stringify(response);
         console.log(current);

   }
});
    });

    </script>
  </div> -->

  <div id="mapContainer" class="container">
    <div class="row">
      <div class="col-sm-6">
        <h1 style="color:white;">Geolocation of Drone</h1>
      </div>
      <div class="col-sm-6">
        <button type="button" id="refreshButton" style="float:right"class="btn btn-dark" name="button">Refresh Maps</button>
      </div>
    </div>
    <div id="map"></div>
  </div>

  <br>


  <div id="chartContainer" style="height: 600px; width: 75%; margin-left: auto; margin-right: auto;border-radius: 20px;">

  </div>
  <div id="tableData" class="container">
    <div class="row">
      <div class="col-sm-3">
        <h1>Data Table</h1>
      </div>
      <div class="col-sm-4" style="padding-top:7.5px;">
        <input type="text" name="fname" id="fname" placeholder="First Name" style="border-radius:5px; ">
        <button  id="submitNameBtn" class="btn btn-dark" onclick="submitFunction()" >Submit</button>
      </div>
      <div class="col-sm-5" style="padding-top:7.5px;">
        <button type="button" onclick="exportTableToCSV()" style="float:right" class="btn btn-dark">Export to CSV</button>
      </div>
    </div>

    <table id="myTable" class="table">
        <tr>
          <th>Drone Operator</th>
          <th>DateTime</th>
          <th>Latitude</th>
          <th>Longitude</th>
          <th>Electrical Conductivity (Î¼S/cm)</th>
    </table>
  </div>

  <a href="#" class="back-to-top"> <img src="img/upbtn.png" class ="up" alt="up"> </a>

  <footer style = "background-color:#081E3f;" "padding:5px;">
    <a href="https://www.instagram.com/waterqualitysamplingdrone/?hl=en" target="_blank"><img       src="img/instaLogo.png" class="instagram"></a>
    <a href="https://www.linkedin.com/in/dylan-myers/" target="_blank" ><img src="img/DylanHeadshot.png" class="headshot" style="height:30px; border-radius:5px;"></a>
  </footer>

  <script async defer                     src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB86Iq8lcUqgtMSdGpX42A9F1c3rDBmTMw&callback=initMap&v=3.31">
  </script>

</body>
</html>
